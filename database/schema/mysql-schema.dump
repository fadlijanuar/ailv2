/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;
DROP TABLE IF EXISTS `customers`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `customers` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `id_pel` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `user_id` bigint unsigned NOT NULL,
  `nama` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `nama_pnj` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `tarif` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `daya` int NOT NULL,
  `jenis_mk` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `tgl_mutasi` date NOT NULL,
  `jenis_layanan` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `status_dil` enum('aktif','hapus','bongkar') COLLATE utf8mb4_unicode_ci NOT NULL,
  `surat_pengajuan` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `identitas_pelanggan` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `formulir_survei` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `jawaban_persetujuan` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `surat_perjanjian_jual_beli` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `sertifikat_laik_operasi` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `kuitansi_pembayaran` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `perintah_kerja_pemasangan` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `berita_acara_pemasangan` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `dokumen_lain` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL,
  `deleted_at` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `customers_id_pel_unique` (`id_pel`),
  UNIQUE KEY `customers_surat_pengajuan_unique` (`surat_pengajuan`),
  UNIQUE KEY `customers_identitas_pelanggan_unique` (`identitas_pelanggan`),
  UNIQUE KEY `customers_formulir_survei_unique` (`formulir_survei`),
  UNIQUE KEY `customers_jawaban_persetujuan_unique` (`jawaban_persetujuan`),
  UNIQUE KEY `customers_surat_perjanjian_jual_beli_unique` (`surat_perjanjian_jual_beli`),
  UNIQUE KEY `customers_sertifikat_laik_operasi_unique` (`sertifikat_laik_operasi`),
  UNIQUE KEY `customers_kuitansi_pembayaran_unique` (`kuitansi_pembayaran`),
  UNIQUE KEY `customers_perintah_kerja_pemasangan_unique` (`perintah_kerja_pemasangan`),
  UNIQUE KEY `customers_berita_acara_pemasangan_unique` (`berita_acara_pemasangan`),
  UNIQUE KEY `customers_dokumen_lain_unique` (`dokumen_lain`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `failed_jobs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `failed_jobs` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `uuid` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `connection` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `queue` text CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `payload` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `exception` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `failed_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `failed_jobs_uuid_unique` (`uuid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `kantor_induk`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `kantor_induk` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `nama_kantor_induk` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `wilayah_kerja` tinyint(1) NOT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL,
  `deleted_at` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `migrations`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `migrations` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `migration` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `batch` int NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `password_resets`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `password_resets` (
  `email` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `token` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  KEY `password_resets_email_index` (`email`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `unit_level2`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `unit_level2` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `nama_unit_level2` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `kantor_induk_id` bigint unsigned NOT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL,
  `deleted_at` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `unit_level2_kantor_induk_id_foreign` (`kantor_induk_id`),
  CONSTRAINT `unit_level2_kantor_induk_id_foreign` FOREIGN KEY (`kantor_induk_id`) REFERENCES `kantor_induk` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `unit_level3`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `unit_level3` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `nama_unit_level3` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `unit_level2_id` bigint unsigned NOT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL,
  `deleted_at` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `unit_level3_unit_level2_id_foreign` (`unit_level2_id`),
  CONSTRAINT `unit_level3_unit_level2_id_foreign` FOREIGN KEY (`unit_level2_id`) REFERENCES `unit_level2` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
DROP TABLE IF EXISTS `users`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `users` (
  `id` bigint unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `email` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `nip` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `email_verified_at` timestamp NULL DEFAULT NULL,
  `password` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL,
  `unit_id` bigint unsigned NOT NULL DEFAULT '0',
  `remember_token` varchar(100) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT NULL,
  `updated_at` timestamp NULL DEFAULT NULL,
  `deleted_at` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `users_email_unique` (`email`),
  UNIQUE KEY `users_nip_unique` (`nip`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

INSERT INTO `migrations` VALUES (1,'2014_10_12_000000_create_users_table',1);
INSERT INTO `migrations` VALUES (2,'2014_10_12_100000_create_password_resets_table',1);
INSERT INTO `migrations` VALUES (3,'2019_08_19_000000_create_failed_jobs_table',1);
INSERT INTO `migrations` VALUES (4,'2021_05_24_083350_create_kantor_induk_table',1);
INSERT INTO `migrations` VALUES (5,'2021_05_24_084214_create_unit_level2_table',1);
INSERT INTO `migrations` VALUES (6,'2021_05_24_084438_create_unit_level3_table',1);
INSERT INTO `migrations` VALUES (7,'2021_05_25_042641_add_soft_delete_colums_to_users',2);
INSERT INTO `migrations` VALUES (8,'2021_05_28_043656_add_soft_delete_colums_to_unit_level3',2);
INSERT INTO `migrations` VALUES (9,'2021_05_28_074444_create_customers_table',2);
INSERT INTO `migrations` VALUES (10,'2021_06_02_235328_add_soft_delete_colums_to_customers',2);
INSERT INTO `migrations` VALUES (11,'2021_06_06_110910_add_soft_delete_colums_to_unit_level2',2);
INSERT INTO `migrations` VALUES (12,'2021_06_06_110941_add_soft_delete_colums_to_kantor_induk',2);
